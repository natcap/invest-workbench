{
  "sessionID": "hra_complete",
  "modelSpec": {
    "model_name": "Habitat Risk Assessment",
    "module": "natcap.invest.hra",
    "userguide_html": "habitat_risk_assessment.html",
    "model_temp_vizname": "habitat_risk_assessment"
  },
  "args": {
    "workspace_dir": {
      "name": "Workspace",
      "about": "The folder where all intermediate and output files of the model will be written.  If this folder does not exist, it will be created.",
      "type": "directory",
      "required": true,
      "validation_options": {
        "exists": false,
        "permissions": "rwx"
      },
      "valid": true,
      "value": "workspace"
    },
    "results_suffix": {
      "name": "File suffix",
      "about": "A string that will be added to the end of all files written to the workspace.",
      "type": "freestyle_string",
      "required": false,
      "validation_options": {
        "regexp": {
          "pattern": "[a-zA-Z0-9_-]*",
          "case_sensitive": false
        }
      },
      "valid": true,
      "value": ""
    },
    "n_workers": {
      "name": "Taskgraph n_workers parameter",
      "about": "The n_workers parameter to provide to taskgraph. -1 will cause all jobs to run synchronously. 0 will run all jobs in the same process, but scheduling will take place asynchronously. Any other positive integer will cause that many processes to be spawned to execute tasks.",
      "type": "number",
      "required": false,
      "validation_options": {
        "regexp": {
          "pattern": "-?[0-9]+",
          "case_sensitive": false
        },
        "expression": "value >= -1"
      },
      "valid": true,
      "value": "",
      "validationMessage": "An unexpected error occurred in validation"
    },
    "info_table_path": {
      "name": "Habitat Stressor Information CSV or Excel File",
      "about": "A CSV or Excel file that contains the name of the habitat (H) or stressor (s) on the `NAME` column that matches the names in `criteria_table_path`. Each H/S has its corresponding vector or raster path on the `PATH` column. The `STRESSOR BUFFER (meters)` column should have a buffer value if the `TYPE` column is a stressor.",
      "type": "csv",
      "required": true,
      "validation_options": {
        "required_fields": [
          "NAME",
          "PATH",
          "STRESSOR BUFFER (METERS)"
        ]
      },
      "valid": true,
      "value": "..\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\habitat_stressor_info.csv"
    },
    "criteria_table_path": {
      "name": "Criteria Scores Table",
      "about": "A CSV or Excel file that contains the set of criteria ranking  (rating, DQ and weight) of each stressor on each habitat, as well as the habitat resilience attributes.",
      "type": "csv",
      "validation_options": {
        "excel_ok": true
      },
      "required": true,
      "valid": true,
      "value": "..\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\exposure_consequence_criteria.csv"
    },
    "resolution": {
      "name": "Resolution of Analysis (meters)",
      "about": "The size that should be used to grid the given habitat and stressor files into rasters. This value will be the pixel size of the completed raster files.",
      "type": "number",
      "required": true,
      "validation_options": {
        "expression": "value > 0"
      },
      "valid": true,
      "value": "500"
    },
    "max_rating": {
      "name": "Maximum Criteria Score",
      "about": "This is the highest score that is used to rate a criteria within this model run. This value would be used to compare with the values within Rating column of the Criteria Scores table.",
      "type": "number",
      "required": true,
      "validation_options": {
        "expression": "value > 0"
      },
      "valid": true,
      "value": "3"
    },
    "risk_eq": {
      "name": "Risk Equation",
      "about": "Each of these represents an option of a risk calculation equation. This will determine the numeric output of risk for every habitat and stressor overlap area.",
      "type": "option_string",
      "required": true,
      "validation_options": {
        "options": [
          "Multiplicative",
          "Euclidean"
        ]
      },
      "valid": true,
      "value": "Euclidean"
    },
    "decay_eq": {
      "name": "Decay Equation",
      "about": "Each of these represents an option of a decay equation for the buffered stressors. If stressor buffering is desired, this equation will determine the rate at which stressor data is reduced.",
      "type": "option_string",
      "required": true,
      "validation_options": {
        "options": [
          "None",
          "Linear",
          "Exponential"
        ]
      },
      "valid": true,
      "value": "Linear"
    },
    "aoi_vector_path": {
      "name": "Area of Interest",
      "about": "A GDAL-supported vector file containing feature containing one or more planning regions. subregions. An optional field called `name` could be added to compute average risk values within each subregion.",
      "type": "vector",
      "required": true,
      "validation_options": {
        "projected": true,
        "projection_units": "m"
      },
      "valid": true,
      "value": "..\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\subregions.shp"
    },
    "visualize_outputs": {
      "name": "Generate GeoJSONs for Web Visualization",
      "help": "Check to enable the generation of GeoJSON outputs. This could be used to visualize the risk scores on a map in the HRA visualization web application.",
      "type": "boolean",
      "required": true,
      "valid": true,
      "value": true
    }
  },
  "workspace": "workspace",
  "sessionProgress": "viz",
  "logStdErr": "",
  "logStdOut": "10/07/2019 10:03:40  natcap.invest.cli  INFO     Imported target natcap.invest.hra from <module 'natcap.invest.hra' from 'c:\\\\users\\\\dmf\\\\miniconda3\\\\envs\\\\invest-py36\\\\lib\\\\site-packages\\\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\\\natcap\\\\invest\\\\hra.py'>\r\n10/07/2019 10:03:40  natcap.invest.utils INFO     Writing log messages to C:\\Users\\dmf\\projects\\invest-electron\\workspace\\InVEST-natcap.invest.hra-log-2019-10-07--10_03_40.txt\r\n10/07/2019 10:03:40  natcap.invest.cli  Level 100 Arguments for InVEST natcap.invest.hra 3.7.0.post440+h9ec91c2babf1:\r\naoi_vector_path     C:\\Users\\dmf\\projects\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\subregions.shp\r\ncriteria_table_path C:\\Users\\dmf\\projects\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\exposure_consequence_criteria.csv\r\ndecay_eq            Linear\r\ninfo_table_path     C:\\Users\\dmf\\projects\\invest\\data\\invest-sample-data\\HabitatRiskAssess\\Input\\habitat_stressor_info.csv\r\nmax_rating          3\r\nn_workers           \r\nresolution          500\r\nresults_suffix      \r\nrisk_eq             Euclidean\r\nvisualize_outputs   True\r\nworkspace_dir       C:\\Users\\dmf\\projects\\invest-electron\\workspace\r\n\r\n10/07/2019 10:03:40  natcap.invest.hra  INFO     Validating arguments\r\n10/07/2019 10:03:40  natcap.invest.validation INFO     Starting whole-model validation with ARGS_SPEC\r\n10/07/2019 10:03:40  natcap.invest.hra  INFO     Validating criteria table file and return cleaned dataframe.\r\n10/07/2019 10:03:40  natcap.invest.hra  INFO     Criteria dataframe was created successfully.\r\n10/07/2019 10:03:40  natcap.invest.hra  INFO     Recovery dataframe was created successfully.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Overlap dataframe was created successfully.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Target projection from AOI: Transverse_Mercator. EPSG: 26910. Linear unit: 1.0.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Simplifying AOI vector while preserving field name.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing AOI vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing eelgrass vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing hardbottom vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing kelp vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing softbottom vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing Docks_Wharves_Marinas vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing Finfish_Aquaculture_Comm vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing Rec_Fishing vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing Shellfish_Aquaculture_Comm vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Rasterizing softbottom_Docks_Wharves_Marinas_intensity rating vector.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Starting align_and_resize_raster_task.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating euclidean distance transform on stressors.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating number of habitats on each pixel.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating recovery scores on habitat eelgrass.\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:530: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  habitat_raster_path = habitat_info_df['ALIGN_RASTER_PATH'].item()\r\n\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Docks_Wharves_Marinas to habitat eelgrass.\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:567: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  'DIST_RASTER_PATH'].item()\r\n\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:570: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  stressor_buffer = stressor_info_df[_BUFFER_HEADER].item() / float(\r\n\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:571: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  stressor_info_df['LINEAR_UNIT'].item())\r\n\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Finfish_Aquaculture_Comm to habitat eelgrass.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Rec_Fishing to habitat eelgrass.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Shellfish_Aquaculture_Comm to habitat eelgrass.\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:627: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  total_e_habitat_path = habitat_info_df['TOT_E_RASTER_PATH'].item()\r\n\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:628: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  total_c_habitat_path = habitat_info_df['TOT_C_RASTER_PATH'].item()\r\n\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total exposure scores on habitat eelgrass.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total consequence scores on habitat eelgrass.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total risk score and reclassified risk scores on habitat eelgrass.\r\n10/07/2019 10:03:41  py.warnings        WARNING  c:\\users\\dmf\\miniconda3\\envs\\invest-py36\\lib\\site-packages\\natcap.invest-3.7.0.post440+h9ec91c2babf1-py3.6-win-amd64.egg\\natcap\\invest\\hra.py:683: FutureWarning: `item` has been deprecated and will be removed in a future version\r\n  habitat_info_df[column_header].item() for column_header in [\r\n\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating recovery scores on habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Docks_Wharves_Marinas to habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Finfish_Aquaculture_Comm to habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Rec_Fishing to habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Shellfish_Aquaculture_Comm to habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total exposure scores on habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total consequence scores on habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total risk score and reclassified risk scores on habitat hardbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating recovery scores on habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Docks_Wharves_Marinas to habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Finfish_Aquaculture_Comm to habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Rec_Fishing to habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Shellfish_Aquaculture_Comm to habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total exposure scores on habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total consequence scores on habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total risk score and reclassified risk scores on habitat kelp.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating recovery scores on habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Docks_Wharves_Marinas to habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Finfish_Aquaculture_Comm to habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Rec_Fishing to habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating exposure, consequence, and risk scores from stressor Shellfish_Aquaculture_Comm to habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total exposure scores on habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total consequence scores on habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating total risk score and reclassified risk scores on habitat softbottom.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating average and reclassified ecosystem risks.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal statistics.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Docks_Wharves_Marinas in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Finfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Rec_Fishing in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Shellfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Docks_Wharves_Marinas in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Finfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Rec_Fishing in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Shellfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Docks_Wharves_Marinas in BarkleySound.\r\n10/07/2019 10:03:41  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Finfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Rec_Fishing in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Shellfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Docks_Wharves_Marinas in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Finfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Rec_Fishing in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Shellfish_Aquaculture_Comm in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of eelgrass in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of hardbottom in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of kelp in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of softbottom in BarkleySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Docks_Wharves_Marinas in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Finfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Rec_Fishing in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of eelgrass_Shellfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Docks_Wharves_Marinas in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Finfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Rec_Fishing in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of hardbottom_Shellfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Docks_Wharves_Marinas in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Finfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Rec_Fishing in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of kelp_Shellfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Docks_Wharves_Marinas in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Finfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Rec_Fishing in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating zonal stats of softbottom_Shellfish_Aquaculture_Comm in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of eelgrass in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of hardbottom in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of kelp in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Calculating overall zonal stats of softbottom in ClaySound.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Generating visualization outputs.\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     Unprojecting output rasters\r\n10/07/2019 10:03:42  natcap.invest.hra  INFO     HRA model completed. Please visit http://marineapps.naturalcapitalproject.org/ to visualize your outputs.\r\n10/07/2019 10:03:42  natcap.invest.utils INFO     Elapsed time: 2.08s\r\n",
  "activeTab": "models",
  "docs": "C:/InVEST_3.7.0_x86/documentation/userguide/habitat_risk_assessment.html"
}